<header class="Headerbar bg-white border-b border-gray-200 dark:bg-gray-800 dark:border-gray-700">
    <div class="max-w-screen-xl mx-auto px-4 py-3 flex items-center justify-between">
        <!-- Logo -->
        <div class="flex items-center space-x-3 ">
            <img src="~/Images/logo png.png" alt="Green Ferta" class="h-20 w-20 rounded-full object-cover logoh">
        </div>
            
        <!-- Navigation Links -->
        <nav class="hidden md:flex space-x-6 text-sm font-medium">
            <a asp-controller="home" asp-action="index" class="text-gray-700 hover:text-blue-600 dark:text-gray-300 dark:hover:text-blue-400">الرئيسية</a>
            <a asp-controller="Category" asp-action="index" class="text-gray-700 hover:text-blue-600 dark:text-gray-300 dark:hover:text-blue-400">الاصناف</a>
            <a asp-controller="Product" asp-action="index" class="text-gray-700 hover:text-blue-600 dark:text-gray-300 dark:hover:text-blue-400">المنتجات</a>
            <a asp-controller="Borshor" asp-action="index" class="text-gray-700 hover:text-blue-600 dark:text-gray-300 dark:hover:text-blue-400">البرشورز</a>
            <a asp-controller="AboutUs" asp-action="index" class="text-gray-700 hover:text-blue-600 dark:text-gray-300 dark:hover:text-blue-400">عن الشركة</a>
        </nav>

        <!-- Search and Login Buttons -->
        <div class="flex items-center space-x-4">
            <!-- Search Button for Mobile -->
            <button id="search-button" class="md:hidden text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-300 focus:outline-none">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                </svg>
            </button>

            <!-- Search Bar for Desktop -->
            <div class="relative hidden md:block">
                <input type="text" placeholder="...ابحث عن منتجات" class="px-4 py-2 pr-10 text-sm border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white">
                <button class="absolute inset-y-0 end-0 flex items-center px-3 text-gray-600 dark:text-gray-400">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                    </svg>
                </button>
            </div>

            <button id="dropdownUserAvatarButton" data-dropdown-toggle="dropdownAvatar" class="flex items-center justify-center w-10 h-10 text-sm bg-gray-800 rounded-full md:me-0 focus:ring-4 focus:ring-gray-300 dark:focus:ring-gray-600" type="button">
                <span class="sr-only">Open user menu</span>
                <!-- أيقونة المستخدم -->
                <img src="   https://cdn-icons-png.flaticon.com/512/3135/3135768.png " width="256" height="256" alt="" title="" class="img-small">
            </button>


            <div id="dropdownAvatar" class="z-10 hidden bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-black-600 rounded-lg shadow-lg w-48">
                @if (User.Identity.IsAuthenticated)
                {
                    <!-- ✅ المستخدم مسجل دخول -->
                    <div class="px-4 py-3 text-sm text-gray-900 dark:text-black">
                        <div class="font-semibold">مرحبًا تم تسجيل الدخول</div>
                       
                    </div>
                    <div class="py-2">
                        <form class="flex items-center px-4 py-2 hover:bg-gray-100 dark:hover:bg-black-700" method="post" asp-area="Identity" asp-page="/Account/Logout" asp-route-returnUrl="/">
                            <button type="submit" class="flex items-center px-4 py-2 hover:bg-gray-100 dark:hover:bg-black-700 w-full">
                                <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7" />
                                </svg>
                                تسجيل الخروج
                            </button>
                        </form>
                    </div>
                }
                else
                {
                    <!-- 🚪 المستخدم مش مسجل -->
                    <ul class="py-2 text-sm text-gray-700 dark:text-gray-300" aria-labelledby="dropdownUserAvatarButton">
                        <li>
                            <a asp-area="Identity" asp-page="/Account/Login" class="flex items-center px-4 py-2 hover:bg-gray-100 dark:hover:bg-black-700">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="#000" stroke-width="2"><path d="..." /></svg>
                                تسجيل دخول
                            </a>
                        </li>
                        <li>
                            <a asp-area="Identity" asp-page="/Account/Register" class="flex items-center px-4 py-2 hover:bg-gray-100 dark:hover:bg-black-700">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="#000" stroke-width="2"><path d="..." /></svg>
                                إنشاء حساب
                            </a>
                        </li>
                    </ul>
                }
            </div>

            <!-- Mobile Menu Toggle Button -->
            <button id="menu-toggle" class="md:hidden text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-300 focus:outline-none">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path>
                </svg>
            </button>
        </div>


    <!-- Mobile Menu -->
    <div id="mobile-menu" class="hidden md:hidden mt-4">
        <nav class="flex flex-col space-y-2 text-sm font-medium">
            <a href="#" class="block px-4 py-2 text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700 rounded-lg">الرئيسية</a>
            <a href="#" class="block px-4 py-2 text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700 rounded-lg">منتجاتنا</a>
            <a href="#" class="block px-4 py-2 text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700 rounded-lg">خدماتنا</a>
            <a href="#" class="block px-4 py-2 text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700 rounded-lg">عن الشركة</a>
            <a href="#" class="block px-4 py-2 text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700 rounded-lg">اتصل بنا</a>
        </nav>
    </div>
</header>

<script>
    // Toggle Mobile Menu
    const menuToggle = document.getElementById('menu-toggle');
    const mobileMenu = document.getElementById('mobile-menu');
    menuToggle.addEventListener('click', () => {
        mobileMenu.classList.toggle('hidden');
    });

    // Toggle Search Bar on Mobile
    const searchButton = document.getElementById('search-button');
    searchButton.addEventListener('click', () => {
        const searchBar = document.createElement('input');
        searchBar.type = 'text';
        searchBar.placeholder = 'ابحث هنا...';
        searchBar.className = 'px-4 py-2 pr-10 text-sm border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white mb-4 w-full';
        searchButton.parentElement.appendChild(searchBar);
    });

</script>